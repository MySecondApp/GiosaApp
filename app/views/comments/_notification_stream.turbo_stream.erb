<%= turbo_stream.append "body" do %>
  <script>
    // Disparar notificaciÃ³n de comentario
    const event = new CustomEvent("notification:show", {
      detail: {
        message: "<%= j comment.content.truncate(100) %>",
        type: "comment",
        title: "ğŸ’¬ <%= j comment.author_name %> comentÃ³ en \"<%= j comment.post.title %>\"",
        duration: 8000
      }
    });
    window.dispatchEvent(event);
    
    // Remover este script despuÃ©s de ejecutarlo
    document.currentScript.remove();
  </script>
<% end %>
